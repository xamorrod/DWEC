# Apuntes de JavaScript para el Examen

## UD05: Interacci칩n con el usuario. Eventos y formularios

### Eventos en JavaScript

Los eventos son acciones que ocurren en el navegador y pueden ser capturados mediante JavaScript.

#### Tipos de eventos comunes:

- **Eventos del rat칩n**: `click`, `dblclick`, `mousedown`, `mouseup`, `mouseover`, `mouseout`
- **Eventos del teclado**: `keydown`, `keyup`, `keypress`
- **Eventos de formulario**: `submit`, `change`, `focus`, `blur`
- **Eventos de ventana**: `load`, `resize`, `scroll`

Ejemplo de un evento `click`:

```javascript
const boton = document.getElementById("miBoton");
boton.addEventListener("click", function () {
  alert("Bot칩n clickeado!");
});
```

### Captura y Propagaci칩n de Eventos

La propagaci칩n de eventos ocurre en dos fases:

1. **Captura**: El evento se propaga desde el `window` hasta el objetivo.
2. **Burbuja**: El evento se propaga del objetivo hacia `window`.

Ejemplo:

```javascript
document.getElementById("contenedor").addEventListener(
  "click",
  function () {
    console.log("Contenedor clickeado");
  },
  true
); // Modo de captura

document.getElementById("hijo").addEventListener("click", function () {
  console.log("Hijo clickeado");
}); // Modo de burbuja
```

### Expresiones Regulares (RegEx) en JavaScript

Las expresiones regulares son patrones utilizados para hacer coincidir combinaciones de caracteres en cadenas de texto. Se utilizan para validaciones y b칰squeda de patrones.

#### Sintaxis b치sica de RegEx:

- `^` - Indica el inicio de la cadena.
- `$` - Indica el final de la cadena.
- `.` - Representa cualquier car치cter excepto nueva l칤nea.
- `*` - Coincide con 0 o m치s repeticiones del car치cter anterior.
- `+` - Coincide con 1 o m치s repeticiones del car치cter anterior.
- `?` - Hace que el car치cter anterior sea opcional.
- `{n}` - Coincide exactamente con `n` repeticiones.
- `[abc]` - Coincide con cualquier car치cter dentro de los corchetes.
- `[^abc]` - Coincide con cualquier car치cter que no est칠 dentro de los corchetes.
- `\d` - Coincide con cualquier d칤gito (`0-9`).
- `\w` - Coincide con cualquier car치cter de palabra (`a-z`, `A-Z`, `0-9`, `_`).
- `\s` - Coincide con cualquier espacio en blanco.

#### Ejemplos de validaciones con RegEx:

Validaci칩n de correo electr칩nico:

```javascript
const regexCorreo = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
console.log(regexCorreo.test("correo@example.com")); // true
```

Validaci칩n de n칰mero de tel칠fono (9 d칤gitos):

```javascript
const regexTelefono = /^\d{9}$/;
console.log(regexTelefono.test("612345678")); // true
```

Validaci칩n de una contrase침a segura:

```javascript
const regexPassword =
  /^(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;
console.log(regexPassword.test("Password1!")); // true
```
### 游늷 Validaci칩n de URL:
```javascript
const regexURL = /^(https?:\/\/)?([\w.-]+)\.([a-z]{2,6})([\/\w .-]*)*\/?$/;
console.log(regexURL.test("https://www.google.com")); // true
```

### 游늷 Validaci칩n de fecha (formato DD/MM/YYYY o DD-MM-YYYY):
```javascript
const regexFecha = /^(0[1-9]|[12][0-9]|3[01])[-/](0[1-9]|1[0-2])[-/]\d{4}$/;
console.log(regexFecha.test("15/08/2023")); // true
console.log(regexFecha.test("31-12-1999")); // true
```

### 游늷 Validaci칩n de nombre (solo letras y espacios):
```javascript
const regexNombre = /^[a-zA-Z\s]+$/;
console.log(regexNombre.test("Juan P칠rez")); // true
console.log(regexNombre.test("Juan123")); // false
```

Validaci칩n en un formulario:

```javascript
document.getElementById("form").addEventListener("submit", function (event) {
  const email = document.getElementById("email").value;
  const telefono = document.getElementById("telefono").value;
  if (!regexCorreo.test(email)) {
    alert("Correo no v치lido");
    event.preventDefault();
  }
  if (!regexTelefono.test(telefono)) {
    alert("Tel칠fono no v치lido");
    event.preventDefault();
  }
});
```

---

## UD06: Utilizaci칩n del modelo de objetos del documento (DOM)

El DOM permite acceder y manipular elementos HTML mediante JavaScript.

### Selecci칩n de Elementos

```javascript
document.getElementById("id");
document.getElementsByClassName("clase");
document.getElementsByTagName("tag");
document.querySelector("selector");
document.querySelectorAll("selector");
```

### Creaci칩n y Modificaci칩n de Elementos

```javascript
const nuevoElemento = document.createElement("p");
nuevoElemento.textContent = "Hola Mundo";
document.body.appendChild(nuevoElemento);
```

---

## Ejercicios

### 1. Aplicaci칩n de Tareas

#### Funcionalidad:

- Agregar tareas con prioridad.
- Ordenar por prioridad.
- Eliminar tareas.

#### Soluci칩n:

```javascript
document.getElementById("btnAgregar").addEventListener("click", function () {
  const tarea = document.getElementById("tarea").value;
  const prioridad = document.getElementById("prioridad").value;
  agregarTarea(tarea, prioridad);
});

function agregarTarea(tarea, prioridad) {
  const fila = document.createElement("tr");
  fila.innerHTML = `<td>${tarea}</td><td>${prioridad}</td><td><i class='w3-xxlarge w3-trash'></i></td>`;
  document.getElementById("tablaTareas").appendChild(fila);
}
```

---

### 2. Mover alumnos en listas

#### Soluci칩n:

```javascript
document.getElementById("lista").addEventListener("click", function (event) {
  if (event.target.tagName === "LI") {
    const destino = document.getElementById("destinoLista").value;
    document.getElementById(destino).appendChild(event.target);
  }
});
```

---

### 3. Manejo de Im치genes

#### Soluci칩n:

```javascript
document.querySelectorAll("img").forEach((img) => {
  img.addEventListener("click", function () {
    this.classList.toggle("seleccionado");
  });
});

document.getElementById("btnBorrar").addEventListener("click", function () {
  document.querySelectorAll(".seleccionado").forEach((img) => img.remove());
});

document.getElementById("btnAplicar").addEventListener("click", function () {
  const destino = document.getElementById("destino").value;
  const posicion = document.getElementById("posicion").value;
  const contenedor = document.getElementById(destino);

  document.querySelectorAll(".seleccionado").forEach((img) => {
    if (document.getElementById("clonar").checked) {
      const clon = img.cloneNode(true);
      contenedor.appendChild(clon);
    } else {
      contenedor.appendChild(img);
    }
    img.classList.remove("seleccionado");
  });
});
```

## 游꿢 Resumen Ampliado  

| Acci칩n | M칠todo | Descripci칩n |
|--------|--------|-------------|
| **Crear un elemento** | `document.createElement("tag")` | Crea un nodo HTML en memoria |
| **A침adir como hijo** | `parent.appendChild(child)` | A침ade el nodo al **final** del padre |
| **A침adir al inicio** | `parent.prepend(child)` | A침ade el nodo **al inicio** del padre |
| **Insertar antes de otro** | `parent.insertBefore(newNode, referenceNode)` | Inserta un nodo antes de otro hijo espec칤fico |
| **Eliminar elemento** | `element.remove()` | Borra un nodo directamente |
| **Eliminar hijo** | `parent.removeChild(child)` | Borra un nodo dentro de un padre |
| **Reemplazar elemento** | `parent.replaceChild(newNode, oldNode)` | Sustituye un nodo hijo por otro nuevo |
| **Clonar elemento** | `element.cloneNode(true/false)` | Duplica un nodo, con o sin hijos |

---
